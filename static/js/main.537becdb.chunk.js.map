{"version":3,"sources":["hooks/useConfigStorage.tsx","containers/CkitProviderContainer/index.tsx","wallets/ObservableNonAcpPwLockWallet.ts","wallets/ObservableUnipassWallet.ts","containers/WalletContainer/index.tsx","components/Styled/index.tsx","components/Wallet/WalletConnect.tsx","utils/AssetAmount.ts","utils/index.ts","components/Wallet/WalletChange.tsx","components/Wallet/WalletList.tsx","views/Account/index.tsx","components/Issue/index.tsx","hooks/useSendIssueTx.tsx","views/Issue/index.tsx","components/Assets/AssetBalance.tsx","components/Assets/SendButton.tsx","hooks/useSendTransferTx.tsx","components/Assets/index.tsx","hooks/useAssetMetaStorage.tsx","views/Assets/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","../../../packages/ckit/dist/errors.js","../../../packages/base/dist/index.js","../../../packages/ckit/dist/utils.js","../../../packages/ckit/dist/helpers/pw.js","../../../packages/ckit/dist/tx-builders/pw/PwSignerAdapter.js","../../../packages/ckit/dist/tx-builders/pw/AbstractPwSenderBuilder.js","../../../packages/ckit/dist/providers/mercury/MercuryProvider.js","../../../packages/ckit/dist/helpers/index.js","../../../packages/ckit/dist/tx-builders/builder-utils.js","../../../packages/base/dist/ScriptManager.js","../../../packages/base/dist/AbstractProvider.js","../../../packages/base/dist/AbstractWallet.js","../../../packages/base/dist/logger.js","../../../packages/ckit/dist/wallets/index.js","../../../packages/ckit/dist/wallets/NonAcpPwLockWallet.js","../../../packages/ckit/dist/index.js","../../../packages/ckit/dist/wallets/UnipassWallet.js","../../../packages/ckit/dist/wallets/unipass/UnipassProvider.js","../../../packages/ckit/dist/providers/index.js","../../../packages/mercury-client/dist/index.js","../../../packages/ckit/dist/helpers/Amount.js","../../../packages/ckit/dist/providers/mercury/IndexerCellProvider.js","../../../packages/ckit/dist/providers/CkitProvider.js","../../../packages/ckit/dist/tx-builders/index.js","../../../packages/ckit/dist/tx-builders/AcpTransferSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferSudtPwBuilder.js","../../../packages/ckit/dist/tx-builders/unipass/config.js","../../../packages/ckit/dist/tx-builders/TransferCkbBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferCkbPwBuilder.js","../../../packages/ckit/dist/tx-builders/MintSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/MintSudtPwBuilder.js","../../../packages/ckit/dist/predefined/index.js","../../../packages/ckit/dist/predefined/aggron.js","../../../packages/ckit/dist/dummy/index.js"],"names":["useConfigStorage","initialConfig","useMemo","ckitConfig","predefined","Aggron","mecuryRPC","ckbRPC","nervosExploreTxUrlPrefix","nervosExploreAddressUrlPrefix","useLocalStorage","CkitProviderContainer","createContainer","ckitProvider","setCkitProvider","useState","localConfig","useEffect","provider","CkitProvider","init","then","ObservableNonAcpPwLockWallet","setDescriptor","name","makeObservable","connectStatus","observable","signer","NonAcpPwLockWallet","ObservableUnipassWallet","uri","UnipassWallet","useSigner","address","setAddress","undefined","getAddress","WalletContainer","useContainer","wallets","useLocalObservable","currentWalletIndex","setCurrentWalletIndex","error","setError","visible","setVisible","setModalVisible","useCallback","selectedWallet","runInAction","push","autorun","forEach","wallet","index","on","connectedIndex","findIndex","w","descriptor","Error","err","displayWalletName","StyledCardWrapper","styled","div","WalletConnect","observer","size","type","disabled","onClick","AssetAmount","constructor","rawAmount","decimals","this","BigNumber","humanizeAmount","times","toRawString","toString","toHumanizeString","originDecimalPlaces","decimalPlaces","ROUND_FLOOR","toFormat","hasProp","obj","key","WalletChange","truncatedAddress","str","start","end","length","slice","truncateMiddle","href","style","marginTop","marginBottom","span","offset","textAlign","target","rel","float","ModalBorderWrapper","WalletList","closable","title","width","onCancel","footer","pagination","dataSource","renderItem","item","Item","connect","WalletListItem","props","UsbOutlined","Text","message","SyncOutlined","spin","CheckCircleTwoTone","AccountView","Title","level","paddingTop","IssueOperation","operationKind","setOperationKind","ModalForm","mutateAsync","sendIssueTransaction","isLoading","isIssueLoading","useMutation","async","recipientsParams","recipient","input","amount","capacityPolicy","additionalCapacity","helpers","CkbAmount","fromCkb","toHex","txBuilder","MintSudtBuilder","recipients","issueTx","build","txHash","sendTransaction","onSuccess","Modal","success","content","onError","errorMsg","String","useSendIssueTx","recipientFieldDisplayName","initialValues","validate","values","onSubmit","setSubmitting","formik","htmlFor","placeholder","children","errorMessage","loading","submitForm","IssueView","showIssueView","checkSupported","AssetBalance","script","precision","query","useQuery","getUdtBalance","getCkbLiveCellsBalance","enabled","isError","data","fromRaw","LoadingOutlined","SendButton","assetMeta","sendTransferTransaction","txToSend","AcpTransferSudtBuilder","sudt","TransferCkbBuilder","useSendTransferTx","_values","fromHumanize","AssetList","initialAssetMeta","code_hash","args","hash_type","useAssetMetaStorage","columns","render","value","record","showHeader","pageSize","AssetsView","signerAddress","BodyWrapper","App","queryClient","QueryClient","QueryClientProvider","client","Provider","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","Object","defineProperty","exports","RecipientSameWithSenderError","NoEnoughUdtError","NoEnoughCkbError","NoAvailableCellError","CkitError","metadata","super","expected","actual","enumerable","get","_ScriptManager","ScriptManager","_AbstractProvider","AbstractProvider","ProviderConfig","InitOptions","_AbstractWallet","AbstractWallet","_logger","createDebugger","debug","require","boom","unimplemented","asyncSleep","ms","Promise","resolve","setTimeout","randomHexString","lengthWithOut0x","Array","map","Math","floor","random","join","nonNullable","x","bytesToHex","bytes","b","padStart","hexToBytes","hex","match","startsWith","Uint8Array","from","byte","parseInt","asserts","condition","Pw","_pwCore","fromPwScript","codeHash","hashType","toPwScript","Script","HashType","fromPwCellDep","dep_type","depType","out_point","tx_hash","outPoint","toPwCellDep","CellDep","DepType","depGroup","code","OutPoint","fromPwCell","cell_output","capacity","toHexString","lock","getData","toPwCell","isLumosCell","Cell","Amount","output","output_data","toPwOutPoint","PwAdapterSigner","_pw","Signer","rawSigner","hasher","Blake2bHasher","messages","sigs","signerLock","parseToScript","sameWith","sig","signMessage","AbstractPwSenderBuilder","_utils","_config","Builder","Number","config","MIN_FEE_RATE","getCellDeps","_scripts","getCellDep","getWitnessPlaceholder","isTemplateOf","scriptConfig","getScriptConfig","CODE_HASH","HASH_TYPE","repeat","input_type","output_type","MercuryProvider","_rpc","_base","_mercuryClient","_rxjs","_errors","_helpers","_IndexerCellProvider","_defineProperty","configurable","writable","mercuryRpc","ckbRpc","MercuryClient","mercury","RPC","rpc","minimalCapacity","searchKey","script_type","filter","output_data_len_range","cells$","get_cells","search_key","pipe","expand","res","after_cursor","last_cursor","takeWhile","objects","concatMap","cell","scan","acc","next","cells","concat","BigInt","lastValueFrom","defaultValue","balance$","reduce","balance","getTxPoolInfo","tx_pool_info","getChainInfo","get_blockchain_info","tx","send_transaction","udt","minimalAmount","resolvedCell","toBigUInt128LE","options","pollIntervalMs","timeoutMs","Date","now","result","_tx$tx_status","get_transaction","tx_status","status","transaction","rpcTip","get_tip_block_number","mercuryTip","get_tip","block_number","asIndexerCellProvider","MercuryCellProvider","_Amount","keys","byteLenOfSudt","lockArgsByteLen","byteLenOfCkbLiveCell","_configManager","SCRIPTS","newScript","configKey","DEP_TYPE","TX_HASH","INDEX","findCellDepByAddress","scriptConfigs","found","findCellDepByScript","parseToAddress","initialized","min_fee_rate","isMainnet","chain","txPoolInfo","LINA","AGGRON4","generateAddress","parseAddress","AbstractConnectableWallet","_eventemitter","__esModule","default","event","listener","emitter","onConnectStatusChanged","removeAllListeners","emit","features","description","feature","includes","namespace","_debug","_exportNames","NonAcpPwLockSigner","_NonAcpPwLockWallet","_UnipassWallet","prototype","hasOwnProperty","call","hashMessage","InternalNonAcpPwLockSigner","_hd","_secp256k","_classPrivateFieldGet","receiver","privateMap","_classApplyDescriptorGet","_classExtractFieldDescriptor","_classPrivateFieldSet","set","TypeError","_classApplyDescriptorSet","action","has","pwProvider","EthProvider","newAddress","onSignerChanged","e","addressString","sign","Keccak256Hasher","update","buffer","digest","serializeJson","_privateKey","WeakMap","privateKey","pubkey","publicKeyCreate","getEthAddress","signRecoverable","v","platform","Platform","eth","errors","utils","dummy","_predefined","_wallets","_providers","_txBuilders","_interopRequireWildcard","_dummy","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","cache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","UnipassSigner","_UnipassProvider","unipass","toCKBAddress","unipassConnector","saveData","localStorage","setItem","JSON","stringify","UnipassProvider","_email","_recovery","UNIPASS_BASE","ckb","getItem","parse","console","log","email","Address","AddressType","uniFrame","openIframe","contentWindow","postMessage","upact","msgHandler","msg","payload","ckbAddress","pubkeyToAddress","window","removeEventListener","closeFrame","addEventListener","recovery","signature","replace","close","url","onload","body","margin","height","overflow","createElement","src","zIndex","position","backgroundColor","left","top","documentElement","getBoundingClientRect","setAttribute","appendChild","frame","remove","removeProperty","pubKeyBuffer","Buffer","hashHex","toAddress","getDefaultPrefix","_MercuryProvider","_CkitProvider","_clientJs","transport","HTTPTransport","headers","Client","RequestManager","order","limit","request","method","params","_bignumber","raw","humanize","Infinity","separator","valWithDecimals","rounded","min","setVal","base","equals","another","collector","queries","queryData","collect","Symbol","asyncIterator","liveCells","newSudtScript","issuerAddress","issuerLockHash","computeScriptHash","dep","_AcpTransferSudtBuilder","_TransferCkbBuilder","_MintSudtBuilder","_PwSignerAdapter","_TransferSudtPwBuilder","builder","TransferSudtPwBuilder","signed","transformers","TransformTransaction","_AbstractPwSenderBuilder","sender","senderSudts","collectUdtCells","recipientSudt","cellDeps","senderInputs","point","recipientInput","recipientOutput","clone","setSUDTAmount","getSUDTAmount","add","senderOutput","sum","sub","Transaction","RawTransaction","fee","calcFee","availableFee","lte","ZERO","AggronCellDeps","nets","model","_TransferCkbPwBuilder","some","TransferCkbPwBuilder","_builderUtils","recipientCreatedCells","acpOptions","recipientAcpCells$","mergeMap","resolved","collectCkbLiveCells","toArray","recipientAcpCells","createdCapacity","totalCapacity","injectedAcpCapacity","senderCells","_MintSudtPwBuilder","NonAcpPwMintBuilder","udtType","createdRecipientCells","toUInt128LE","resolvedFindAcpCells","foundRecipientCells$","foundRecipientCells","createdRecipientCellsCapacity","createdCell","foundRecipientCellsAdditionalCapacity","foundCell","neededCapacityFromIssuer","issuerCells","issuerOutput","inputCell","rawTx","PREFIX","SECP256K1_BLAKE160","ANYONE_CAN_PAY","SUDT","PW_ANYONE_CAN_PAY","PW_NON_ANYONE_CAN_PAY","UNIPASS","ExtendedDummyWallet","DummyWallet","DummySigner"],"mappings":"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","file":"static/js/main.537becdb.chunk.js","sourcesContent":["import { useLocalStorage } from '@rehooks/local-storage';\nimport { CkitInitOptions, predefined } from 'ckit';\nimport { useMemo } from 'react';\n\nexport interface LocalConfig {\n  ckitConfig: CkitInitOptions;\n  mecuryRPC: string;\n  ckbRPC: string;\n  nervosExploreTxUrlPrefix: string;\n  nervosExploreAddressUrlPrefix: string;\n}\n\n// TODO remove random when predefined config is ready\nexport function useConfigStorage(): [LocalConfig, (newValue: LocalConfig) => void, () => void] {\n  const initialConfig = useMemo<LocalConfig>(() => {\n    // TODO check network first\n    const ckitConfig: CkitInitOptions = predefined.Aggron;\n    const mecuryRPC = 'https://testnet.ckb.dev/indexer';\n    const ckbRPC = 'https://testnet.ckb.dev/rpc';\n    const nervosExploreTxUrlPrefix = 'https://explorer.nervos.org/aggron/transaction/';\n    const nervosExploreAddressUrlPrefix = 'https://explorer.nervos.org/aggron/address/';\n    return {\n      ckitConfig: ckitConfig,\n      mecuryRPC: mecuryRPC,\n      ckbRPC: ckbRPC,\n      nervosExploreTxUrlPrefix: nervosExploreTxUrlPrefix,\n      nervosExploreAddressUrlPrefix: nervosExploreAddressUrlPrefix,\n    };\n  }, []);\n\n  return useLocalStorage<LocalConfig>('localConfig', initialConfig);\n}\n","import { CkitProvider } from 'ckit';\nimport { useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { useConfigStorage } from 'hooks/useConfigStorage';\n\nexport const CkitProviderContainer = createContainer<CkitProvider | undefined>(() => {\n  const [ckitProvider, setCkitProvider] = useState<CkitProvider>();\n  const [localConfig] = useConfigStorage();\n  useEffect(() => {\n    if (!ckitProvider) {\n      const provider = new CkitProvider(localConfig.mecuryRPC, localConfig.ckbRPC);\n      void provider.init({ ...localConfig.ckitConfig }).then(() => setCkitProvider(provider));\n    }\n  }, []);\n\n  return ckitProvider;\n});\n","import { CkitProvider, NonAcpPwLockWallet } from 'ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableNonAcpPwLockWallet extends NonAcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { UnipassWallet } from 'ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableUnipassWallet extends UnipassWallet {\n  constructor(uri = 'https://unipass.me') {\n    super(uri);\n    this.setDescriptor({ name: 'UniPass' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { AbstractWallet, ConnectStatus, Signer } from 'ckit';\nimport { autorun, runInAction } from 'mobx';\nimport { useLocalObservable } from 'mobx-react-lite';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { CkitProviderContainer } from '../CkitProviderContainer';\nimport { ObservableNonAcpPwLockWallet, ObservableUnipassWallet } from 'wallets';\n\nexport type CurrentWalletIndex = number | null;\n\nexport interface WalletConnectError {\n  error: Error;\n  index: number;\n}\n\nfunction useWallet() {\n  const ckitProvider = CkitProviderContainer.useContainer();\n\n  const wallets = useLocalObservable<AbstractWallet[]>(() => [new ObservableUnipassWallet() as AbstractWallet]);\n  const [currentWalletIndex, setCurrentWalletIndex] = useState<CurrentWalletIndex>(null);\n  const [error, setError] = useState<WalletConnectError | null>(null);\n  const [visible, setVisible] = useState(false);\n\n  const setModalVisible = useCallback((visible: boolean) => {\n    setVisible(visible);\n    setError(null);\n  }, []);\n\n  const selectedWallet = useMemo(\n    () => (currentWalletIndex === null ? undefined : wallets[currentWalletIndex]),\n    [currentWalletIndex, wallets],\n  );\n\n  useEffect(() => {\n    if (!ckitProvider) return;\n    runInAction(() => wallets.push(new ObservableNonAcpPwLockWallet(ckitProvider)));\n  }, [ckitProvider, wallets]);\n\n  useEffect(\n    () =>\n      autorun(() => {\n        if (!wallets) return;\n        wallets.forEach((wallet, index) => {\n          const onConnectStatusChanged = (connectStatus: ConnectStatus) => {\n            if (connectStatus === 'disconnected') {\n              const connectedIndex = wallets.findIndex((w) => w.connectStatus === 'connected');\n              if (-1 === connectedIndex) {\n                setCurrentWalletIndex(null);\n              } else {\n                setCurrentWalletIndex(connectedIndex);\n              }\n            }\n            if (connectStatus === 'connected') {\n              setModalVisible(false);\n              const connectedIndex = wallets.findIndex((w) => w.descriptor.name === wallet.descriptor.name);\n              if (-1 === connectedIndex) {\n                throw new Error('exception: wallet could not be found');\n              } else {\n                setCurrentWalletIndex(connectedIndex);\n              }\n            }\n          };\n          wallet.on('connectStatusChanged', onConnectStatusChanged);\n          wallet.on('error', (err) =>\n            setError({\n              error: err as Error,\n              index: index,\n            }),\n          );\n        });\n      }),\n    [setModalVisible, wallets],\n  );\n\n  return {\n    currentWalletIndex,\n    setCurrentWalletIndex,\n    wallets,\n    selectedWallet,\n    error,\n    setError,\n    visible,\n    setModalVisible,\n  };\n}\n\ninterface SignerAddress {\n  address: string | undefined;\n}\n\nexport function useSigner(signer: Signer | undefined): SignerAddress {\n  const [address, setAddress] = useState<string>();\n\n  useEffect(() => {\n    setAddress(undefined);\n    if (!signer) return;\n    void signer.getAddress().then(setAddress);\n  }, [signer]);\n\n  return { address };\n}\n\nexport const WalletContainer = createContainer(useWallet);\n\nexport const displayWalletName = (name: string | undefined): string => {\n  return name || 'unknown';\n};\n","import styled from 'styled-components';\n\nexport const StyledCardWrapper = styled.div`\n  width: 360px;\n  padding: 24px;\n  margin-bottom: 48px;\n  border-radius: 16px;\n  background: #fff;\n  box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.08);\n`;\n","import { Button } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const WalletConnectFC: React.FC = () => {\n  const { selectedWallet, setModalVisible } = WalletContainer.useContainer();\n\n  if (selectedWallet) {\n    return (\n      <Button size=\"small\" type=\"primary\" disabled>\n        connected to {selectedWallet.descriptor.name}\n      </Button>\n    );\n  }\n\n  return (\n    <Button size=\"small\" type=\"primary\" onClick={() => setModalVisible(true)}>\n      Connect\n    </Button>\n  );\n};\n\nexport const WalletConnect = observer(WalletConnectFC);\n","import { BigNumber } from 'bignumber.js';\n\nexport class AssetAmount {\n  rawAmount: BigNumber;\n  decimals: number;\n\n  constructor(rawAmount: string | BigNumber, decimals: number) {\n    this.rawAmount = new BigNumber(rawAmount);\n    this.decimals = decimals;\n  }\n\n  static fromRaw(rawAmount: string, decimals: number): AssetAmount {\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  static fromHumanize(humanizeAmount: string, decimals: number): AssetAmount {\n    const rawAmount = new BigNumber(humanizeAmount).times(10 ** decimals);\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  toRawString(): string {\n    return this.rawAmount.toString();\n  }\n\n  toHumanizeString(): string {\n    const humanizeAmount = this.rawAmount.times(10 ** -this.decimals);\n    const originDecimalPlaces = humanizeAmount.decimalPlaces();\n    const rounded = humanizeAmount.decimalPlaces(originDecimalPlaces, BigNumber.ROUND_FLOOR);\n    return rounded.toFormat().toString();\n  }\n}\n","export * from './AssetAmount';\n\nexport function hasProp<O, K extends string | number | symbol>(obj: O, key: K): obj is Record<K, unknown> & O {\n  return obj != null && typeof obj === 'object' && key in obj;\n}\n","import { Button, Col, Empty, Row } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { useSigner, WalletContainer } from 'containers/WalletContainer';\nimport { useConfigStorage } from 'hooks';\n\nexport const WalletChange = observer(() => {\n  const { selectedWallet, setModalVisible } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  const { address } = useSigner(selectedWallet?.signer);\n  if (!address) return <Empty />;\n  const truncatedAddress = truncateMiddle(address, 8);\n  const href = localConfig.nervosExploreAddressUrlPrefix + address;\n  return (\n    <div style={{ marginTop: '32px', marginBottom: '32px' }}>\n      <Row>\n        <Col span={8} offset={6}>\n          <div style={{ textAlign: 'center' }}>\n            <a href={href} target=\"_blank\" rel=\"noreferrer\">\n              {truncatedAddress}\n            </a>\n          </div>\n        </Col>\n        <Col span={8} offset={2}>\n          <div style={{ float: 'right' }}>\n            <Button size=\"small\" onClick={() => setModalVisible(true)}>\n              change\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n});\n\nfunction truncateMiddle(str: string, start: number, end = start): string {\n  if (!start || !end || start <= 0 || end <= 0) throw new Error('start or end is invalid');\n  if (str.length <= start + end) return str;\n  return str.slice(0, start) + '...' + str.slice(-end);\n}\n","import { SyncOutlined, CheckCircleTwoTone, UsbOutlined } from '@ant-design/icons';\nimport { AbstractWallet } from '@ckit/base';\nimport { List, Modal, Space, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nconst ModalBorderWrapper = styled.div`\n  .ant-list-item {\n    padding: 4px 0;\n    margin: 4px 0;\n    border-radius: 8px;\n    border: 1px solid rgba(0, 0, 0, 0);\n\n    &:hover {\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      border-radius: 8px;\n      cursor: pointer;\n    }\n  }\n`;\n\nexport const WalletList = observer(() => {\n  const { wallets, visible, setCurrentWalletIndex, setError, setModalVisible } = WalletContainer.useContainer();\n\n  return (\n    <Modal\n      closable\n      title={'choose wallets'}\n      width={312}\n      visible={visible}\n      onCancel={() => setModalVisible(false)}\n      footer={null}\n    >\n      <ModalBorderWrapper>\n        <List\n          pagination={false}\n          dataSource={wallets}\n          renderItem={(item, index) => (\n            <List.Item\n              onClick={() => {\n                setError(null);\n                if (item.connectStatus === 'disconnected') {\n                  item.connect();\n                }\n                if (item.connectStatus === 'connected') {\n                  setCurrentWalletIndex(index);\n                  setModalVisible(false);\n                }\n              }}\n            >\n              <WalletListItem wallet={item} index={index} />\n            </List.Item>\n          )}\n        />\n      </ModalBorderWrapper>\n    </Modal>\n  );\n});\n\nexport interface WalletListItemProps {\n  wallet: AbstractWallet;\n  index: number;\n}\n\nexport const WalletListItem = observer((props: WalletListItemProps) => {\n  const { wallet, index } = props;\n  const { error } = WalletContainer.useContainer();\n  if (wallet.connectStatus === 'disconnected') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <UsbOutlined />\n        </Space>\n        {error && error.index === index && <Typography.Text type=\"danger\"> {error.error.message}</Typography.Text>}\n      </div>\n    );\n  }\n  if (wallet.connectStatus === 'connecting') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <SyncOutlined spin />\n        </Space>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Space>\n        {displayWalletName(wallet.descriptor.name)}\n        <CheckCircleTwoTone />\n      </Space>\n    </div>\n  );\n});\n","import { Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletList, WalletChange, WalletConnect } from 'components/Wallet';\n\nexport const AccountView: React.FC = () => {\n  return (\n    <StyledCardWrapper>\n      <div style={{ marginBottom: '24px' }}>\n        <Row>\n          <Col span={12}>\n            <Typography.Title level={3}> Account </Typography.Title>\n          </Col>\n          <Col span={12}>\n            <div style={{ float: 'right', paddingTop: '5px' }}>\n              <WalletConnect />\n            </div>\n          </Col>\n        </Row>\n      </div>\n      <WalletList />\n      <WalletChange />\n    </StyledCardWrapper>\n  );\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { Button, Col, Modal, Row, Typography } from 'antd';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport React, { useState } from 'react';\nimport { useSendIssueTx } from 'hooks';\n\ntype OperationKind = 'invite' | 'issue';\n\nexport const IssueOperation = observer(() => {\n  const [visible, setVisible] = useState<boolean>(false);\n  const [operationKind, setOperationKind] = useState<OperationKind>('invite');\n\n  const onClickInvite = () => {\n    setOperationKind('invite');\n    setVisible(true);\n  };\n  const onClickIssue = () => {\n    setOperationKind('issue');\n    setVisible(true);\n  };\n\n  return (\n    <div style={{ marginBottom: '24px' }}>\n      <Row>\n        <Col span={4} offset={4}>\n          <Button onClick={onClickInvite}>invite</Button>\n        </Col>\n        <Col span={4} offset={8}>\n          <Button onClick={onClickIssue}>issue</Button>\n        </Col>\n      </Row>\n      <ModalForm visible={visible} setVisible={setVisible} operationKind={operationKind} />\n    </div>\n  );\n});\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  operationKind: OperationKind;\n}\n\ninterface ModalFormValues {\n  recipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  recipient?: Address;\n  amount?: HexNumber;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, operationKind } = props;\n\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { recipient: '', amount: '' };\n  const title = operationKind === 'invite' ? 'invite user' : 'issue udt';\n  const recipientFieldDisplayName = operationKind === 'invite' ? 'user:' : 'recipient:';\n\n  const validate = (values: ModalFormValues): ModalFormErrors => {\n    // TODO add validate logic\n    return {};\n  };\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={() => setVisible(false)} footer={null}>\n      <Formik\n        initialValues={initialValues}\n        validate={validate}\n        onSubmit={(values: ModalFormValues, { setSubmitting }) => {\n          // setTimeout(() => {\n          //   alert(JSON.stringify(values, null, 2));\n          //   setSubmitting(false);\n          // }, 400);\n          sendIssueTransaction({\n            recipient: values.recipient,\n            amount: values.amount,\n            operationKind: operationKind,\n          }).then(() => setVisible(false));\n        }}\n      >\n        {(formik) => (\n          <Form>\n            <div>\n              <Row>\n                <Col span={6}>\n                  <label htmlFor=\"recipient\">{recipientFieldDisplayName}</label>\n                </Col>\n                <Col span={16}>\n                  <Field name=\"recipient\" type=\"text\" placeholder=\"ckb address\" />\n                </Col>\n              </Row>\n              <ErrorMessage\n                name=\"recipient\"\n                children={(errorMessage) => {\n                  return <Typography.Text type=\"danger\">{errorMessage}</Typography.Text>;\n                }}\n              />\n            </div>\n\n            {operationKind === 'issue' && (\n              <div style={{ marginTop: '24px' }}>\n                <Row>\n                  <Col span={6}>\n                    <label htmlFor=\"amount\">amount:</label>\n                  </Col>\n                  <Col span={16}>\n                    <Field name=\"amount\" type=\"text\" />\n                  </Col>\n                </Row>\n                <ErrorMessage\n                  name=\"amount\"\n                  children={(errorMessage) => {\n                    return <Typography.Text type=\"danger\">{errorMessage}</Typography.Text>;\n                  }}\n                />\n              </div>\n            )}\n\n            <div style={{ marginTop: '24px', textAlign: 'center' }}>\n              <Button loading={isIssueLoading} onClick={formik.submitForm}>\n                Submit\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </Modal>\n  );\n};\n","import { Address, HexNumber, Hash } from '@ckb-lumos/base';\nimport { Modal } from 'antd';\nimport { RecipientOptions, helpers, MintSudtBuilder } from 'ckit';\nimport React from 'react';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useConfigStorage } from './useConfigStorage';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { hasProp } from 'utils';\n\nexport interface SendIssueTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  operationKind: 'invite' | 'issue';\n}\n\nexport function useSendIssueTx(): UseMutationResult<{ txHash: Hash }, unknown, SendIssueTxInput> {\n  const { selectedWallet } = WalletContainer.useContainer();\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n\n  return useMutation(\n    ['sendIssueTx'],\n    async (input: SendIssueTxInput) => {\n      if (!selectedWallet?.signer) throw new Error('exception: signer undifined');\n      if (!ckitProvider) throw new Error('exception: ckitProvider undifined');\n\n      const recipientsParams: RecipientOptions = {\n        recipient: input.recipient,\n        amount: input.amount,\n      };\n      if (input.operationKind === 'invite') {\n        recipientsParams.capacityPolicy = 'createAcp';\n        // TODO make the additionalCapacity configurable\n        // create acp with additionalAcp\n        recipientsParams.additionalCapacity = helpers.CkbAmount.fromCkb(1).toHex();\n        recipientsParams.amount = '0';\n      } else {\n        recipientsParams.capacityPolicy = 'findAcp';\n      }\n      const txBuilder = new MintSudtBuilder({ recipients: [recipientsParams] }, ckitProvider, selectedWallet.signer);\n      const issueTx = await txBuilder.build();\n      const txHash = await ckitProvider.sendTransaction(issueTx);\n      return { txHash: txHash };\n    },\n    {\n      onSuccess({ txHash }) {\n        const href = localConfig.nervosExploreTxUrlPrefix + txHash;\n        Modal.success({\n          title: 'Tx sent',\n          content: (\n            <p>\n              The transaction was sent, check it in&nbsp;\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                explorer\n              </a>\n              <details>\n                <summary>transaction id</summary>\n                {txHash}\n              </details>\n            </p>\n          ),\n        });\n      },\n      onError(error) {\n        const errorMsg: string = hasProp(error, 'message') ? String(error.message) : 'Unknown error';\n        Modal.error({ title: 'Tx failed', content: errorMsg, width: 360 });\n      },\n    },\n  );\n}\n","import { Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { IssueOperation } from 'components/Issue';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const IssueView: React.FC = observer(() => {\n  const { selectedWallet } = WalletContainer.useContainer();\n  const showIssueView = selectedWallet?.signer && selectedWallet?.checkSupported('issue-sudt');\n  return (\n    <div>\n      {showIssueView && (\n        <StyledCardWrapper>\n          <div style={{ marginBottom: '24px' }}>\n            <Typography.Title level={3}> Issue </Typography.Title>\n          </div>\n          <div style={{ textAlign: 'center', marginBottom: '36px' }}>display issued udt info</div>\n          <IssueOperation />\n        </StyledCardWrapper>\n      )}\n    </div>\n  );\n});\n","import { LoadingOutlined } from '@ant-design/icons';\nimport { Typography } from 'antd';\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, useSigner, WalletContainer } from 'containers';\nimport { AssetMeta } from 'hooks';\nimport { AssetAmount } from 'utils';\n\nexport const AssetBalance: React.FC<AssetMeta> = (props) => {\n  const { script, precision } = props;\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { selectedWallet } = WalletContainer.useContainer();\n  const { address } = useSigner(selectedWallet?.signer);\n  const query = useQuery(\n    ['queryBalance', script, address],\n    () => {\n      if (!ckitProvider || !address) throw new Error('exception: signer should exist');\n      if (script) {\n        return ckitProvider.getUdtBalance(address, script);\n      }\n      return ckitProvider.getCkbLiveCellsBalance(address);\n    },\n    {\n      enabled: !!address,\n    },\n  );\n  if (query.isError) {\n    return <Typography.Text type=\"danger\">error</Typography.Text>;\n  }\n  if (query.data) {\n    return <Typography.Text>{AssetAmount.fromRaw(query.data, precision).toHumanizeString()}</Typography.Text>;\n  }\n  return <LoadingOutlined />;\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { Button, Col, Modal, Row, Typography } from 'antd';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport React, { useState } from 'react';\nimport { AssetMeta, useSendTransferTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\nexport const SendButton: React.FC<AssetMeta> = (props) => {\n  const [visible, setVisible] = useState<boolean>(false);\n  return (\n    <div>\n      <Button type=\"link\" onClick={() => setVisible(true)}>\n        send\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} assetMeta={props} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  assetMeta: AssetMeta;\n}\n\ninterface ModalFormValues {\n  recipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  recipient?: Address;\n  amount?: HexNumber;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, assetMeta } = props;\n\n  const { mutateAsync: sendTransferTransaction, isLoading: isIssueLoading } = useSendTransferTx();\n\n  const initialValues: ModalFormValues = { recipient: '', amount: '' };\n  const title = 'send ' + assetMeta.name;\n\n  const validate = (_values: ModalFormValues): ModalFormErrors => {\n    // TODO add validate logic\n    return {};\n  };\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={() => setVisible(false)} footer={null}>\n      <Formik\n        initialValues={initialValues}\n        validate={validate}\n        onSubmit={(values: ModalFormValues, { setSubmitting }) => {\n          // setTimeout(() => {\n          //   alert(JSON.stringify(values, null, 2));\n          //   setSubmitting(false);\n          // }, 400);\n          sendTransferTransaction({\n            recipient: values.recipient,\n            amount: AssetAmount.fromHumanize(values.amount, assetMeta.precision).toRawString(),\n            assetMeta: assetMeta,\n          }).then(() => setVisible(false));\n        }}\n      >\n        {(formik) => (\n          <Form>\n            <div>\n              <Row>\n                <Col span={6}>\n                  <label htmlFor=\"recipient\">recipient:</label>\n                </Col>\n                <Col span={16}>\n                  <Field name=\"recipient\" type=\"text\" placeholder=\"ckb address\" />\n                </Col>\n              </Row>\n              <ErrorMessage\n                name=\"recipient\"\n                children={(errorMessage) => {\n                  return <Typography.Text type=\"danger\">{errorMessage}</Typography.Text>;\n                }}\n              />\n            </div>\n\n            <div style={{ marginTop: '24px' }}>\n              <Row>\n                <Col span={6}>\n                  <label htmlFor=\"amount\">amount:</label>\n                </Col>\n                <Col span={16}>\n                  <Field name=\"amount\" type=\"text\" />\n                </Col>\n              </Row>\n              <ErrorMessage\n                name=\"amount\"\n                children={(errorMessage) => {\n                  return <Typography.Text type=\"danger\">{errorMessage}</Typography.Text>;\n                }}\n              />\n            </div>\n\n            <div style={{ marginTop: '24px', textAlign: 'center' }}>\n              <Button loading={isIssueLoading} onClick={formik.submitForm}>\n                Submit\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </Modal>\n  );\n};\n","import { Address, HexNumber, Hash, Transaction } from '@ckb-lumos/base';\nimport { Modal } from 'antd';\nimport { RecipientOptions, AcpTransferSudtBuilder, TransferCkbBuilder } from 'ckit';\nimport React from 'react';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { AssetMeta } from './useAssetMetaStorage';\nimport { useConfigStorage } from './useConfigStorage';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { hasProp } from 'utils';\n\nexport interface SendTransferTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  assetMeta: AssetMeta;\n}\n\nexport function useSendTransferTx(): UseMutationResult<{ txHash: Hash }, unknown, SendTransferTxInput> {\n  const { selectedWallet } = WalletContainer.useContainer();\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n\n  return useMutation(\n    ['sendTransferTx'],\n    async (input: SendTransferTxInput) => {\n      if (!selectedWallet?.signer) throw new Error('exception: signed undifined');\n      if (!ckitProvider) throw new Error('exception: ckitProvider undifined');\n      let txToSend: Transaction;\n\n      if (input.assetMeta.script) {\n        const txBuilder = new AcpTransferSudtBuilder(\n          {\n            recipient: input.recipient,\n            sudt: input.assetMeta.script,\n            amount: input.amount,\n          },\n          ckitProvider,\n          selectedWallet.signer,\n        );\n        txToSend = await txBuilder.build();\n      } else {\n        const recipientsParams: RecipientOptions = {\n          recipient: input.recipient,\n          amount: input.amount,\n          capacityPolicy: 'createAcp',\n        };\n        const txBuilder = new TransferCkbBuilder(\n          { recipients: [recipientsParams] },\n          ckitProvider,\n          selectedWallet.signer,\n        );\n        txToSend = await txBuilder.build();\n      }\n      const txHash = await ckitProvider.sendTransaction(txToSend);\n      return { txHash: txHash };\n    },\n    {\n      onSuccess({ txHash }) {\n        const href = localConfig.nervosExploreTxUrlPrefix + txHash;\n        Modal.success({\n          title: 'Tx sent',\n          content: (\n            <p>\n              The transaction was sent, check it in&nbsp;\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                explorer\n              </a>\n              <details>\n                <summary>transaction id</summary>\n                {txHash}\n              </details>\n            </p>\n          ),\n        });\n      },\n      onError(error) {\n        const errorMsg: string = hasProp(error, 'message') ? String(error.message) : 'Unknown error';\n        Modal.error({ title: 'Tx failed', content: errorMsg, width: 360 });\n      },\n    },\n  );\n}\n","import { Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport React from 'react';\nimport { AssetBalance } from './AssetBalance';\nimport { SendButton } from './SendButton';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\nexport const AssetList: React.FC = () => {\n  const [assetMeta] = useAssetMetaStorage();\n  const columns: ColumnsType<AssetMeta> = [\n    {\n      render: (value, record) => <div>{record.name}</div>,\n    },\n    {\n      render: (value, record) => (\n        <AssetBalance name={record.name} precision={record.precision} script={record.script} />\n      ),\n    },\n    {\n      render: (value, record) => <SendButton name={record.name} precision={record.precision} script={record.script} />,\n    },\n  ];\n\n  return (\n    <div>\n      <Table size=\"small\" showHeader={false} columns={columns} dataSource={assetMeta} pagination={{ pageSize: 5 }} />\n    </div>\n  );\n};\n","import { CkbTypeScript } from '@ckit/base';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useMemo } from 'react';\n\nexport interface AssetMeta {\n  name: string;\n  script?: CkbTypeScript;\n  precision: number;\n}\n\n// TODO use real assets meta data\nexport function useAssetMetaStorage(): [AssetMeta[], (newValue: AssetMeta[]) => void, () => void] {\n  const initialAssetMeta = useMemo<AssetMeta[]>(\n    () => [\n      { name: 'ckb', precision: 8 },\n      {\n        name: 'yyds',\n        script: {\n          code_hash: '0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4',\n          args: '0x537461ee3e5ebd77ad6bd325e1ff152f298b09453a158a51ebaeaea681499e84',\n          hash_type: 'type',\n        },\n        precision: 8,\n      },\n    ],\n    [],\n  );\n\n  return useLocalStorage<AssetMeta[]>('assetMeta', initialAssetMeta);\n}\n","import { Empty, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { AssetList } from 'components/Assets';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { useSigner, WalletContainer } from 'containers/WalletContainer';\n\nexport const AssetsView: React.FC = observer(() => {\n  const { selectedWallet } = WalletContainer.useContainer();\n  const { address: signerAddress } = useSigner(selectedWallet?.signer);\n  return (\n    <div>\n      <StyledCardWrapper>\n        <div style={{ marginBottom: '12px' }}>\n          <Typography.Title level={3}> Assets </Typography.Title>\n        </div>\n        <div>\n          {signerAddress && <AssetList />}\n          {!signerAddress && <Empty />}\n        </div>\n      </StyledCardWrapper>\n    </div>\n  );\n});\n","import React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport styled from 'styled-components';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AccountView, AssetsView, IssueView } from 'views';\n\nimport './App.less';\n\nconst BodyWrapper = styled.div`\n  padding-bottom: 32px;\n  min-height: 100vh;\n  background: linear-gradient(111.44deg, #a6ded2 0%, #8c99c2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst App: React.FC = () => {\n  const queryClient = new QueryClient();\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <CkitProviderContainer.Provider>\n        <WalletContainer.Provider>\n          <BodyWrapper>\n            <div className=\"app\">\n              <AccountView />\n              <IssueView />\n              <AssetsView />\n            </div>\n          </BodyWrapper>\n        </WalletContainer.Provider>\n      </CkitProviderContainer.Provider>\n    </QueryClientProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    void import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RecipientSameWithSenderError = exports.NoEnoughUdtError = exports.NoEnoughCkbError = exports.NoAvailableCellError = exports.CkitError = void 0;\n\nclass CkitError extends Error {\n  constructor(metadata, message) {\n    super(message);\n    this.metadata = metadata;\n  }\n\n}\n\nexports.CkitError = CkitError;\n\nclass NoAvailableCellError extends CkitError {\n  constructor(metadata, message = 'Cannot find available cell') {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoAvailableCellError = NoAvailableCellError;\n\nclass NoEnoughCkbError extends CkitError {\n  constructor(metadata, message = `Udt is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughCkbError = NoEnoughCkbError;\n\nclass NoEnoughUdtError extends CkitError {\n  constructor(metadata, message = `Ckb is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughUdtError = NoEnoughUdtError;\n\nclass RecipientSameWithSenderError extends CkitError {\n  constructor(metadata, message = `The recipient and sender cannot be the same one`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.RecipientSameWithSenderError = RecipientSameWithSenderError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ScriptManager\", {\n  enumerable: true,\n  get: function () {\n    return _ScriptManager.ScriptManager;\n  }\n});\nObject.defineProperty(exports, \"AbstractProvider\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.AbstractProvider;\n  }\n});\nObject.defineProperty(exports, \"ProviderConfig\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.ProviderConfig;\n  }\n});\nObject.defineProperty(exports, \"InitOptions\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.InitOptions;\n  }\n});\nObject.defineProperty(exports, \"AbstractWallet\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractWallet.AbstractWallet;\n  }\n});\nObject.defineProperty(exports, \"createDebugger\", {\n  enumerable: true,\n  get: function () {\n    return _logger.createDebugger;\n  }\n});\nObject.defineProperty(exports, \"debug\", {\n  enumerable: true,\n  get: function () {\n    return _logger.debug;\n  }\n});\n\nvar _ScriptManager = require(\"./ScriptManager\");\n\nvar _AbstractProvider = require(\"./AbstractProvider\");\n\nvar _AbstractWallet = require(\"./AbstractWallet\");\n\nvar _logger = require(\"./logger\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\nexports.asyncSleep = asyncSleep;\nexports.randomHexString = randomHexString;\nexports.nonNullable = nonNullable;\nexports.bytesToHex = bytesToHex;\nexports.hexToBytes = hexToBytes;\nexports.boom = boom;\nexports.asserts = asserts;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}\n\nfunction asyncSleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n/**\n *\n * @param lengthWithOut0x expected length does not contain the beginning 0x\n * @example\n * ```ts\n * randomHexString(1); // 0xa\n * randomHexString(1); // 0x2\n * randomHexString(2); // 0xf8\n * ```\n */\n\n\nfunction randomHexString(lengthWithOut0x) {\n  return '0x' + [...Array(lengthWithOut0x)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n}\n\nfunction nonNullable(x) {\n  if (x == null) throw new Error('Null check failed');\n  return x;\n}\n\nfunction bytesToHex(bytes) {\n  return `0x${[...bytes].map(b => b.toString(16).padStart(2, '0')).join('')}`;\n}\n\nfunction hexToBytes(hex) {\n  hex = hex.startsWith('0x') ? hex.slice(2) : hex;\n  const match = hex.match(/.{1,2}/g);\n  if (!match) throw new Error(`cannot parse ${hex} into Uint8Array`);\n  return Uint8Array.from(match.map(byte => parseInt(byte, 16)));\n}\n\nfunction boom(message) {\n  throw new Error(message);\n}\n\nfunction asserts(condition, err) {\n  if (condition) return;\n\n  if (typeof err === 'function') {\n    throw err();\n  }\n\n  if (typeof err === 'string') boom(err);\n  if (err instanceof Error) throw err;\n  boom();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Pw = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nfunction fromPwCellDep(x) {\n  return {\n    dep_type: x.depType,\n    out_point: {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    }\n  };\n}\n\nfunction toPwCellDep(x) {\n  return new _pwCore.CellDep(x.dep_type === 'dep_group' ? _pwCore.DepType.depGroup : _pwCore.DepType.code, new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index));\n}\n\nfunction fromPwScript(x) {\n  return {\n    code_hash: x.codeHash,\n    args: x.args,\n    hash_type: x.hashType\n  };\n}\n\nfunction toPwScript(x) {\n  return new _pwCore.Script(x.code_hash, x.args, x.hash_type === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction fromPwCell(x) {\n  return {\n    cell_output: {\n      capacity: x.capacity.toHexString(),\n      type: x.type ? fromPwScript(x.type) : undefined,\n      lock: fromPwScript(x.lock)\n    },\n    out_point: x.outPoint ? {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    } : undefined,\n    data: x.getData()\n  };\n}\n\nfunction isLumosCell(x) {\n  if (typeof x !== 'object' || x == null) return false;\n  return 'cell_output' in x;\n}\n\nfunction toPwCell(x) {\n  if (isLumosCell(x)) {\n    return new _pwCore.Cell(new _pwCore.Amount(x.cell_output.capacity, 0), toPwScript(x.cell_output.lock), x.cell_output.type ? toPwScript(x.cell_output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.data);\n  }\n\n  return new _pwCore.Cell(new _pwCore.Amount(x.output.capacity, 0), toPwScript(x.output.lock), x.output.type ? toPwScript(x.output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.output_data);\n}\n\nfunction toPwOutPoint(x) {\n  return new _pwCore.OutPoint(x.tx_hash, x.index);\n}\n/**\n * from: PW => Lumos\n * to: Lumos => PW\n */\n\n\nconst Pw = {\n  fromPwCellDep,\n  toPwCellDep,\n  fromPwCell,\n  toPwCell,\n  toPwScript,\n  fromPwScript,\n  toPwOutPoint\n};\nexports.Pw = Pw;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PwAdapterSigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nclass PwAdapterSigner extends _pwCore.Signer {\n  constructor(rawSigner, provider, hasher = new _pwCore.Blake2bHasher()) {\n    super(hasher);\n    this.rawSigner = rawSigner;\n    this.provider = provider;\n  }\n\n  async signMessages(messages) {\n    const sigs = [];\n\n    const signerLock = _pw.Pw.toPwScript(this.provider.parseToScript(await this.rawSigner.getAddress()));\n\n    for (const item of messages) {\n      if (item.lock.sameWith(signerLock)) {\n        const sig = await this.rawSigner.signMessage(item.message);\n        sigs.push(sig);\n      } else {\n        sigs.push('0x');\n      }\n    }\n\n    return sigs;\n  }\n\n}\n\nexports.PwAdapterSigner = PwAdapterSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractPwSenderBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils = require(\"../../utils\");\n\nvar _config = require(\"../unipass/config\");\n\n// TODO uncomment me when ran in Aggron or Mainnet\nclass AbstractPwSenderBuilder extends _pwCore.Builder {\n  constructor(provider) {\n    super(Number(provider.config.MIN_FEE_RATE));\n    this.provider = provider;\n  } // TODO refactor to ConfigManager\n\n\n  getCellDeps(_scripts) {\n    return [_pw.Pw.toPwCellDep(this.provider.getCellDep('SUDT')), _pw.Pw.toPwCellDep(this.provider.getCellDep('ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('PW_NON_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(this.provider.getCellDep('SECP256K1_BLAKE160')), // TODO uncomment me when ran in Aggron or Mainnet\n    ...(0, _config.getCellDeps)()];\n  } // TODO refactor to ConfigManager\n\n\n  getWitnessPlaceholder(address) {\n    const isTemplateOf = (key, address) => {\n      const script = this.provider.parseToScript(address);\n      const scriptConfig = this.provider.getScriptConfig(key);\n      return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n    };\n\n    if (isTemplateOf('SECP256K1_BLAKE160', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('UNIPASS', address)) {\n      return {\n        lock: '0x' + '0'.repeat(2082),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    (0, _utils.boom)(`Unsupported lock ${address}`);\n  }\n\n}\n\nexports.AbstractPwSenderBuilder = AbstractPwSenderBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryProvider = void 0;\n\nvar _rpc = require(\"@ckb-lumos/rpc\");\n\nvar _base = require(\"@ckit/base\");\n\nvar _mercuryClient = require(\"@ckit/mercury-client\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _utils = require(\"../../utils\");\n\nvar _IndexerCellProvider = require(\"./IndexerCellProvider\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryProvider extends _base.AbstractProvider {\n  constructor(mercuryRpc = 'http://127.0.0.1:8116', ckbRpc = 'http://127.0.0.1:8114') {\n    super();\n\n    _defineProperty(this, \"mercury\", void 0);\n\n    _defineProperty(this, \"rpc\", void 0);\n\n    if (mercuryRpc instanceof _mercuryClient.MercuryClient) this.mercury = mercuryRpc;else this.mercury = new _mercuryClient.MercuryClient(mercuryRpc);\n    if (ckbRpc instanceof _rpc.RPC) this.rpc = ckbRpc;else this.rpc = new _rpc.RPC(ckbRpc);\n  }\n\n  async collectCkbLiveCells(address, minimalCapacity) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), // live cell only\n    (0, _rxjs.scan)((acc, next) => ({\n      cells: acc.cells.concat(next),\n      amount: acc.amount + BigInt(next.output.capacity)\n    }), {\n      amount: 0n,\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => acc.amount < BigInt(minimalCapacity), true));\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: 0n,\n        cells: []\n      }\n    });\n\n    if (acc.amount < BigInt(minimalCapacity)) {\n      throw new _errors.NoEnoughCkbError({\n        lock,\n        expected: minimalCapacity,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n  /**\n   * Calculate the capacity of all cells with only locks\n   */\n\n\n  async getCkbLiveCellsBalance(address) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), (0, _rxjs.reduce)((balance, cell) => balance + BigInt(cell.output.capacity), 0n));\n    const balance = await (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: '0x0'\n    });\n    return String(balance);\n  }\n\n  getTxPoolInfo() {\n    return this.rpc.tx_pool_info();\n  }\n\n  getChainInfo() {\n    return this.rpc.get_blockchain_info();\n  }\n\n  sendTransaction(tx) {\n    return this.rpc.send_transaction(tx);\n  }\n\n  async collectUdtCells(address, udt, minimalAmount) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.scan)((acc, resolvedCell) => ({\n      cells: acc.cells.concat(resolvedCell),\n      amount: acc.amount + BigInt((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34)))\n    }), {\n      amount: 0n,\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => acc.amount < BigInt(minimalAmount), true) // inclusive last to ensure cells are enough\n    );\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: 0n,\n        cells: []\n      }\n    });\n\n    if (acc.amount < BigInt(minimalAmount)) {\n      throw new _errors.NoEnoughUdtError({\n        lock,\n        expected: minimalAmount,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  getUdtBalance(address, udt) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.reduce)((acc, resolvedCell) => acc + BigInt((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))), 0n));\n    return (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: 0n\n    }).then(x => String(x));\n  }\n\n  async waitForTransactionCommitted(txHash, options = {}) {\n    const {\n      pollIntervalMs = 1000,\n      timeoutMs = 60000\n    } = options;\n    const start = Date.now();\n    let result = null;\n\n    while (Date.now() - start <= timeoutMs) {\n      var _tx$tx_status;\n\n      const tx = await this.rpc.get_transaction(txHash);\n\n      if ((tx === null || tx === void 0 ? void 0 : (_tx$tx_status = tx.tx_status) === null || _tx$tx_status === void 0 ? void 0 : _tx$tx_status.status) === 'committed') {\n        result = tx.transaction;\n        break;\n      }\n\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    const rpcTip = Number(await this.rpc.get_tip_block_number());\n\n    while (Date.now() - start <= timeoutMs) {\n      const mercuryTip = await this.mercury.get_tip();\n      if (Number(mercuryTip.block_number) >= rpcTip) break;\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    return result;\n  }\n\n  asIndexerCellProvider() {\n    return new _IndexerCellProvider.MercuryCellProvider(this.mercury);\n  }\n\n}\n\nexports.MercuryProvider = MercuryProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Amount = require(\"./Amount\");\n\nObject.keys(_Amount).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Amount[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _Amount[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.byteLenOfSudt = byteLenOfSudt;\nexports.byteLenOfCkbLiveCell = byteLenOfCkbLiveCell;\n\nfunction byteLenOfSudt(lockArgsByteLen = 20) {\n  return 8\n  /* capacity: u64 */\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* output_data */\n  16\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfCkbLiveCell(lockArgsByteLen = 20) {\n  // prettier-ignore\n  return 8\n  /* capacity: u64 */\n  + 32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  ;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractProvider = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractProvider {\n  constructor() {\n    _defineProperty(this, \"initialized\", false);\n\n    _defineProperty(this, \"_config\", void 0);\n  }\n\n  get config() {\n    if (!this._config) throw new Error('Cannot find the config, maybe provider is not initialied');\n    return this._config;\n  }\n\n  getScriptConfig(key) {\n    return this.config.SCRIPTS[key];\n  }\n\n  newScript(configKey, args) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      code_hash: scriptConfig.CODE_HASH,\n      args,\n      hash_type: scriptConfig.HASH_TYPE\n    };\n  }\n\n  getCellDep(configKey) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      dep_type: scriptConfig.DEP_TYPE,\n      out_point: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n  }\n\n  findCellDepByAddress(address) {\n    const script = this.parseToScript(address);\n    const scriptConfigs = Object.values(this.config.SCRIPTS);\n    if (scriptConfigs == null) return undefined;\n    const index = scriptConfigs.findIndex(scriptConfig => (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.CODE_HASH) === script.code_hash && (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.HASH_TYPE) === script.hash_type);\n    const found = scriptConfigs[index];\n    if (!found) return undefined;\n    return {\n      dep_type: found.DEP_TYPE,\n      out_point: {\n        tx_hash: found.TX_HASH,\n        index: found.INDEX\n      }\n    };\n  }\n\n  findCellDepByScript(script) {\n    return this.findCellDepByAddress(this.parseToAddress(script));\n  }\n  /**\n   * init the provider\n   * @param config if no config is provided, {@link getChainInfo} will be called to check the network type, and using the predefined config\n   */\n\n\n  async init(config) {\n    if (this.initialized) return;\n\n    if (config) {\n      const MIN_FEE_RATE = config.MIN_FEE_RATE ? config.MIN_FEE_RATE : (await this.getTxPoolInfo()).min_fee_rate;\n      this._config = { ...config,\n        MIN_FEE_RATE\n      };\n    } else {\n      const chainInfo = await this.getChainInfo();\n      const isMainnet = chainInfo.chain === 'ckb';\n      const txPoolInfo = await this.getTxPoolInfo();\n      this._config = isMainnet ? { ..._configManager.predefined.LINA,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      } : { ..._configManager.predefined.AGGRON4,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      };\n    }\n\n    this.initialized = true;\n  }\n\n  parseToAddress(script) {\n    return (0, _helpers.generateAddress)(script, {\n      config: this.config\n    });\n  }\n  /**\n   * parse an {@link Address} to script, throws an error when parsing failed\n   * @param address\n   */\n\n\n  parseToScript(address) {\n    return (0, _helpers.parseAddress)(address, {\n      config: this.config\n    });\n  }\n\n}\n\nexports.AbstractProvider = AbstractProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractWallet = exports.AbstractConnectableWallet = void 0;\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractConnectableWallet {\n  // do **NOT** change the value manually\n  // use {@link getConnectStatus} instead of\n  // do **NOT** change the value manually\n  // use {@link getSigner} instead of\n  constructor() {\n    _defineProperty(this, \"connectStatus\", 'disconnected');\n\n    _defineProperty(this, \"signer\", void 0);\n\n    _defineProperty(this, \"emitter\", void 0);\n\n    _defineProperty(this, \"on\", (event, listener) => {\n      this.emitter.on(event, listener);\n    });\n\n    this.emitter = new _eventemitter.default();\n  }\n\n  disconnect() {\n    this.onConnectStatusChanged('disconnected');\n    this.emitter.removeAllListeners();\n  }\n\n  getConnectStatus() {\n    return this.connectStatus;\n  }\n\n  getSigner() {\n    return this.signer;\n  }\n\n  onConnectStatusChanged(status) {\n    this.connectStatus = status;\n    this.emitter.emit('connectStatusChanged', status);\n  }\n\n  onSignerChanged(signer) {\n    this.signer = signer;\n    this.emitter.emit('signerChanged', signer);\n  }\n\n  onSignerDisconnected() {\n    this.signer = undefined;\n  }\n\n  onError(error = new Error(`An unknown error occurred in the ${this.constructor.name}`)) {\n    this.emitter.emit('error', error);\n  }\n\n}\n\nexports.AbstractConnectableWallet = AbstractConnectableWallet;\n\nclass AbstractWallet extends AbstractConnectableWallet {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"descriptor\", {\n      name: 'Unknown Wallet',\n      features: [],\n      description: 'an unknown wallet'\n    });\n  }\n\n  setDescriptor(descriptor) {\n    const {\n      name = this.descriptor.name,\n      features = this.descriptor.features,\n      description = this.descriptor.description\n    } = descriptor;\n    this.descriptor = {\n      name,\n      features,\n      description\n    };\n  }\n\n  onError(error = new Error(`An unknown error occurred in the ${this.descriptor.name}`)) {\n    super.onError(error);\n  }\n\n  checkSupported(feature) {\n    return this.descriptor.features.includes(feature);\n  }\n\n}\n\nexports.AbstractWallet = AbstractWallet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDebugger = createDebugger;\nexports.debug = void 0;\n\nvar _debug = _interopRequireDefault(require(\"debug\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createDebugger(namespace) {\n  if (!namespace.startsWith('ckit-')) namespace = 'ckit-' + namespace;\n  return (0, _debug.default)(namespace);\n}\n\nconst debug = (0, _debug.default)('ckit');\nexports.debug = debug;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  NonAcpPwLockSigner: true,\n  NonAcpPwLockWallet: true\n};\nObject.defineProperty(exports, \"NonAcpPwLockSigner\", {\n  enumerable: true,\n  get: function () {\n    return _NonAcpPwLockWallet.NonAcpPwLockSigner;\n  }\n});\nObject.defineProperty(exports, \"NonAcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _NonAcpPwLockWallet.NonAcpPwLockWallet;\n  }\n});\n\nvar _NonAcpPwLockWallet = require(\"./NonAcpPwLockWallet\");\n\nvar _UnipassWallet = require(\"./UnipassWallet\");\n\nObject.keys(_UnipassWallet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _UnipassWallet[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _UnipassWallet[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hashMessage = hashMessage;\nexports.InternalNonAcpPwLockSigner = exports.NonAcpPwLockSigner = exports.NonAcpPwLockWallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckit/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _utils = require(\"../utils\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass NonAcpPwLockWallet extends _base.AbstractWallet {\n  constructor(ckitProvider) {\n    super();\n\n    _defineProperty(this, \"pwProvider\", void 0);\n\n    _defineProperty(this, \"ckitProvider\", void 0);\n\n    this.setDescriptor({\n      features: ['issue-sudt'],\n      description: 'A non-acp-lock pw lock wallet',\n      name: 'NonAcpPwLockWallet'\n    });\n    this.ckitProvider = ckitProvider; // FIXME the PwEthProvider has a bug when all accounts are disconnected\n\n    this.pwProvider = new _pwCore.EthProvider(newAddress => {\n      if (newAddress == null) {\n        this.onConnectStatusChanged('disconnected');\n        return;\n      }\n\n      this.onSignerChanged(new NonAcpPwLockSigner(this.ckitProvider, this.pwProvider));\n    });\n  }\n\n  connect() {\n    // prevent connect multi times\n    if (this.connectStatus !== 'disconnected') return;\n    this.onConnectStatusChanged('connecting');\n    void this.pwProvider.init().then(() => {\n      this.onConnectStatusChanged('connected');\n      this.onSignerChanged(new NonAcpPwLockSigner(this.ckitProvider, this.pwProvider));\n    }, e => {\n      this.onConnectStatusChanged('disconnected');\n      this.onError(e);\n    });\n  }\n\n}\n\nexports.NonAcpPwLockWallet = NonAcpPwLockWallet;\n\nclass NonAcpPwLockSigner {\n  constructor(ckitProvider, pwProvider) {\n    this.ckitProvider = ckitProvider;\n    this.pwProvider = pwProvider;\n  }\n\n  async getAddress() {\n    const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n    return this.ckitProvider.parseToAddress({\n      hash_type: config.HASH_TYPE,\n      args: this.pwProvider.address.addressString,\n      code_hash: config.CODE_HASH\n    });\n  }\n\n  signMessage(message) {\n    return this.pwProvider.sign(message);\n  }\n\n}\n\nexports.NonAcpPwLockSigner = NonAcpPwLockSigner;\n\nfunction hashMessage(message) {\n  // https://github.com/XuJiandong/pw-lock/blob/develop/c/pw_chain_ethereum.h#L43\n  return new _pwCore.Keccak256Hasher().update('\\x19Ethereum Signed Message:\\n32').update((0, _utils.hexToBytes)(message).buffer).digest().serializeJson();\n}\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass InternalNonAcpPwLockSigner {\n  constructor(privateKey, ckitProvider) {\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils.hexToBytes)(_classPrivateFieldGet(this, _privateKey)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async getAddress() {\n    const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: this.getEthAddress()\n    });\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable(hashMessage(message), _classPrivateFieldGet(this, _privateKey));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n\n    const platform = _pwCore.Platform.eth.toString(16).padStart(2, '0');\n\n    const sig = result.slice(2, -2);\n    return '0x' + platform + sig + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nexports.InternalNonAcpPwLockSigner = InternalNonAcpPwLockSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  helpers: true,\n  errors: true,\n  utils: true,\n  predefined: true,\n  dummy: true\n};\nObject.defineProperty(exports, \"predefined\", {\n  enumerable: true,\n  get: function () {\n    return _predefined.predefined;\n  }\n});\nexports.dummy = exports.utils = exports.errors = exports.helpers = void 0;\n\nvar _base = require(\"@ckit/base\");\n\nObject.keys(_base).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _base[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _base[key];\n    }\n  });\n});\n\nvar _wallets = require(\"./wallets\");\n\nObject.keys(_wallets).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _wallets[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _wallets[key];\n    }\n  });\n});\n\nvar _providers = require(\"./providers\");\n\nObject.keys(_providers).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _providers[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _providers[key];\n    }\n  });\n});\n\nvar _txBuilders = require(\"./tx-builders\");\n\nObject.keys(_txBuilders).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _txBuilders[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _txBuilders[key];\n    }\n  });\n});\n\nvar _helpers = _interopRequireWildcard(require(\"./helpers\"));\n\nexports.helpers = _helpers;\n\nvar _errors = _interopRequireWildcard(require(\"./errors\"));\n\nexports.errors = _errors;\n\nvar _utils = _interopRequireWildcard(require(\"./utils\"));\n\nexports.utils = _utils;\n\nvar _predefined = require(\"./predefined\");\n\nvar _dummy = _interopRequireWildcard(require(\"./dummy\"));\n\nexports.dummy = _dummy;\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnipassWallet = exports.UnipassSigner = void 0;\n\nvar _base = require(\"@ckit/base\");\n\nvar _UnipassProvider = _interopRequireDefault(require(\"./unipass/UnipassProvider\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass UnipassSigner {\n  constructor(unipass) {\n    this.unipass = unipass;\n  }\n\n  getAddress() {\n    return Promise.resolve(this.unipass.address.toCKBAddress());\n  }\n\n  signMessage(message) {\n    return this.unipass.sign(message);\n  }\n\n}\n\nexports.UnipassSigner = UnipassSigner;\n\nclass UnipassWallet extends _base.AbstractWallet {\n  constructor(uri = 'https://unipass.me') {\n    super();\n    this.uri = uri;\n\n    _defineProperty(this, \"unipassConnector\", void 0);\n\n    this.setDescriptor({\n      name: 'UnipassWallet',\n      description: 'connect to blockchain with an email',\n      features: ['acp']\n    });\n    this.unipassConnector = new _UnipassProvider.default();\n  }\n\n  connect() {\n    this.onConnectStatusChanged('connecting');\n    void this.unipassConnector.init().then(() => {\n      this.onConnectStatusChanged('connected');\n      this.onSignerChanged(new UnipassSigner(this.unipassConnector));\n    });\n  }\n\n}\n\nexports.UnipassWallet = UnipassWallet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction getData() {\n  const item = localStorage.getItem('__unipass__');\n  if (!item) return undefined;\n  return JSON.parse(item);\n}\n\nfunction saveData(data) {\n  localStorage.setItem('__unipass__', JSON.stringify(data));\n}\n\nclass UnipassProvider extends _pwCore.Provider {\n  get email() {\n    return this._email;\n  }\n\n  get recovery() {\n    return this._recovery;\n  }\n\n  constructor(UNIPASS_BASE = 'https://unipass.me') {\n    super(_pwCore.Platform.ckb);\n    this.UNIPASS_BASE = UNIPASS_BASE;\n\n    _defineProperty(this, \"_email\", void 0);\n\n    _defineProperty(this, \"_recovery\", void 0);\n\n    _defineProperty(this, \"msgHandler\", void 0);\n  }\n\n  async init() {\n    return new Promise(resolve => {\n      const data = getData();\n      console.log(data, '-----');\n\n      if (!data) {\n        const {\n          uniFrame\n        } = openIframe('login', `${this.UNIPASS_BASE}/#/login`, () => {\n          const msg = {\n            upact: 'UP-LOGIN'\n          };\n          uniFrame.contentWindow && uniFrame.contentWindow.postMessage(msg, this.UNIPASS_BASE);\n        });\n\n        this.msgHandler = event => {\n          if (typeof event.data === 'object' && 'upact' in event.data) {\n            const msg = event.data;\n\n            if (msg.upact === 'UP-LOGIN') {\n              const {\n                pubkey,\n                email\n              } = msg.payload;\n              const ckbAddress = pubkeyToAddress(pubkey);\n              this.address = new _pwCore.Address(ckbAddress, _pwCore.AddressType.ckb);\n              console.log('address', this.address);\n              saveData({\n                email,\n                pubkey,\n                address: ckbAddress\n              });\n              this._email = email;\n              this.msgHandler && window.removeEventListener('message', this.msgHandler);\n              uniFrame && closeFrame(uniFrame);\n              resolve(this);\n            } else if (msg.upact === 'UP-CLOSE') {\n              uniFrame && closeFrame(uniFrame);\n              resolve(this);\n            }\n          }\n        };\n\n        window.addEventListener('message', this.msgHandler, false);\n      } else {\n        this._email = data.email;\n        this.address = new _pwCore.Address(data.address, _pwCore.AddressType.ckb);\n        resolve(this);\n      }\n    });\n  }\n\n  async recover() {\n    console.log('[UnipassProvider] to recover');\n    return new Promise(resolve => {\n      const {\n        uniFrame\n      } = openIframe('login', `${this.UNIPASS_BASE}/#/login`, () => {\n        const msg = {\n          upact: 'UP-RECOVERY'\n        };\n        uniFrame.contentWindow && uniFrame.contentWindow.postMessage(msg, this.UNIPASS_BASE);\n      });\n\n      this.msgHandler = event => {\n        if (typeof event.data === 'object' && 'upact' in event.data) {\n          const msg = event.data;\n\n          if (msg.upact === 'UP-LOGIN') {\n            const {\n              pubkey,\n              email,\n              recovery\n            } = msg.payload;\n            const ckbAddress = pubkeyToAddress(pubkey);\n            this.address = new _pwCore.Address(ckbAddress, _pwCore.AddressType.ckb);\n            console.log('address', this.address);\n            saveData({\n              email,\n              pubkey,\n              address: ckbAddress\n            });\n            this._email = email;\n            this._recovery = recovery;\n            this.msgHandler && window.removeEventListener('message', this.msgHandler);\n            uniFrame && closeFrame(uniFrame);\n            resolve(this);\n          } else if (msg.upact === 'UP-CLOSE') {\n            uniFrame && closeFrame(uniFrame);\n            resolve(this);\n          }\n        }\n      };\n\n      window.addEventListener('message', this.msgHandler, false);\n    });\n  }\n\n  sign(message) {\n    console.log('[UnipassProvider] message to sign', message);\n    return new Promise(resolve => {\n      const {\n        uniFrame\n      } = openIframe('sign', `${this.UNIPASS_BASE}/#/sign`);\n\n      this.msgHandler = event => {\n        if (typeof event.data === 'object' && 'upact' in event.data) {\n          const msg = event.data;\n\n          if (msg.upact === 'UP-SIGN') {\n            let signature;\n\n            if (typeof msg.payload == 'string') {\n              signature = msg.payload;\n            } else {\n              signature = JSON.stringify(msg.payload);\n            }\n\n            console.log('[Sign] signature: ', signature);\n            this.msgHandler && window.removeEventListener('message', this.msgHandler);\n            uniFrame && closeFrame(uniFrame);\n\n            if (typeof msg.payload == 'string') {\n              resolve(`0x01${signature.replace('0x', '')}`);\n            } else {\n              resolve(signature);\n            }\n          } else if (msg.upact === 'UP-READY') {\n            console.log('[UnipassProvider] sign READY');\n            const msg = {\n              upact: 'UP-SIGN',\n              payload: message\n            };\n            uniFrame.contentWindow && uniFrame.contentWindow.postMessage(msg, this.UNIPASS_BASE);\n            console.log('[UnipassProvider] opend');\n          } else if (msg.upact === 'UP-LOGIN') {\n            const {\n              pubkey,\n              email\n            } = msg.payload;\n            const ckbAddress = pubkeyToAddress(pubkey);\n            this.address = new _pwCore.Address(ckbAddress, _pwCore.AddressType.ckb);\n            saveData({\n              email,\n              pubkey,\n              address: ckbAddress\n            });\n            this._email = email;\n            this.msgHandler && window.removeEventListener('message', this.msgHandler);\n            uniFrame && closeFrame(uniFrame); // window.location.reload();\n\n            resolve('0x');\n          } else if (msg.upact === 'UP-CLOSE') {\n            uniFrame && closeFrame(uniFrame);\n            resolve('N/A');\n          }\n        }\n      };\n\n      window.addEventListener('message', this.msgHandler, false);\n    });\n  }\n\n  close() {\n    this.msgHandler && window.removeEventListener('message', this.msgHandler);\n  }\n\n}\n\nexports.default = UnipassProvider;\nlet uniFrame;\n\nfunction openIframe(title, url, onload) {\n  if (uniFrame) closeFrame(uniFrame);\n  document.body.style.margin = '0';\n  document.body.style.height = '100%';\n  document.body.style.overflow = 'hidden';\n  uniFrame = document.createElement('iframe');\n  uniFrame.src = url;\n  uniFrame.style.width = '100%';\n  uniFrame.style.height = '100%';\n  uniFrame.style.zIndex = '2147483649';\n  uniFrame.style.position = 'absolute';\n  uniFrame.style.backgroundColor = 'rgba(0,0,0,.65)';\n  const {\n    left,\n    top\n  } = document.documentElement.getBoundingClientRect();\n  uniFrame.style.left = `${left}px`;\n  uniFrame.style.top = `${-top}px`;\n  uniFrame.setAttribute('scrolling', 'no');\n  uniFrame.setAttribute('frameborder', 'no');\n  onload && (uniFrame.onload = onload);\n  document.body.appendChild(uniFrame);\n  return {\n    uniFrame\n  };\n}\n\nfunction closeFrame(frame) {\n  console.log('[UnipassProvider] close frame');\n  frame.remove();\n  console.log('[UnipassProvider] frame.remove');\n  document.body.style.removeProperty('overflow');\n  console.log('[UnipassProvider] document.body.style.removeProperty()');\n} // const LocalStorage = {\n//   getItem(key: string): boolean {\n//     return key === 'test';\n//   },\n// };\n\n\nfunction pubkeyToAddress(pubkey) {\n  const pubKeyBuffer = Buffer.from(pubkey.replace('0x', ''), 'hex');\n  const hashHex = new _pwCore.Blake2bHasher().update(pubKeyBuffer.buffer).digest().serializeJson().slice(0, 42); // const isLina = LocalStorage.getItem('lina');\n  // const isTest = LocalStorage.getItem('test');\n  // let script: Script;\n  // if (isLina) {\n  //   script = new Script('0x614d40a86e1b29a8f4d8d93b9f3b390bf740803fa19a69f1c95716e029ea09b3', hashHex, HashType.type);\n  // } else if (isTest) {\n  //   script = new Script('0x949db47aac7d1a2a0d921344dc5c1ddefda390813a1881d56a0872d798e0d629', hashHex, HashType.type);\n  // } else {\n  //   script = new Script('0x124a60cd799e1fbca664196de46b3f7f0ecb7138133dcaea4893c51df5b02be6', hashHex, HashType.type);\n  // }\n\n  const script = new _pwCore.Script('0x124a60cd799e1fbca664196de46b3f7f0ecb7138133dcaea4893c51df5b02be6', hashHex, _pwCore.HashType.type);\n  return script.toAddress((0, _pwCore.getDefaultPrefix)()).toCKBAddress();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nObject.keys(_MercuryProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MercuryProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MercuryProvider[key];\n    }\n  });\n});\n\nvar _CkitProvider = require(\"./CkitProvider\");\n\nObject.keys(_CkitProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CkitProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CkitProvider[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryClient = void 0;\n\nvar _clientJs = require(\"@open-rpc/client-js\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryClient {\n  constructor(uri) {\n    _defineProperty(this, \"client\", void 0);\n\n    const transport = new _clientJs.HTTPTransport(uri, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    });\n    this.client = new _clientJs.Client(new _clientJs.RequestManager([transport]));\n  }\n\n  get_cells(payload) {\n    const {\n      search_key,\n      order = 'asc',\n      limit = '0x3e8'\n      /*1_000*/\n      ,\n      after_cursor\n    } = payload;\n    return this.client.request({\n      method: 'get_cells',\n      params: [search_key, order, limit, after_cursor]\n    });\n  }\n\n  get_tip() {\n    return this.client.request({\n      method: 'get_tip'\n    });\n  }\n\n}\n\nexports.MercuryClient = MercuryClient;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CkbAmount = exports.Amount = void 0;\n\nvar _bignumber = require(\"bignumber.js\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass Amount {\n  static from(value) {\n    if (typeof value === 'bigint') return new Amount(String(value));\n    return new Amount(value);\n  }\n  /**\n   * value without decimals\n   * @private\n   */\n\n\n  constructor(raw, decimals = 0) {\n    this.decimals = decimals;\n\n    _defineProperty(this, \"raw\", void 0);\n\n    this.raw = new _bignumber.BigNumber(raw);\n  }\n\n  humanize(options) {\n    const {\n      decimalPlaces = Infinity,\n      separator = true\n    } = options ? options : {};\n    const valWithDecimals = this.raw.times(10 ** -this.decimals);\n    const originDecimalPlaces = valWithDecimals.decimalPlaces();\n    const rounded = valWithDecimals.decimalPlaces(Math.min(originDecimalPlaces, decimalPlaces), _bignumber.BigNumber.ROUND_FLOOR);\n    if (separator) return rounded.toFormat();\n    return rounded.toString();\n  }\n\n  setVal(value) {\n    if (typeof value === 'function') {\n      this.raw = value(this.raw);\n      return this;\n    }\n\n    this.raw = new _bignumber.BigNumber(value);\n    return this;\n  }\n\n  toString(base) {\n    return this.raw.toString(base);\n  }\n\n  toHex() {\n    return '0x' + this.toString(16);\n  }\n\n  equals(another) {\n    if (another instanceof Amount) return another.toString() === this.toString();\n    return this.toString() === new _bignumber.BigNumber(another).toString();\n  }\n\n}\n\nexports.Amount = Amount;\n\nclass CkbAmount extends Amount {\n  constructor(value) {\n    super(value, 8);\n  }\n\n  static fromCkb(value) {\n    return new CkbAmount(new _bignumber.BigNumber(value).times(10 ** 8));\n  }\n\n  static fromShannon(value) {\n    return new CkbAmount(value);\n  }\n\n}\n\nexports.CkbAmount = CkbAmount;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryCellProvider = void 0;\n\nclass MercuryCellProvider {\n  constructor(mercury) {\n    this.mercury = mercury;\n  }\n\n  collector(queries) {\n    const {\n      lock,\n      type\n    } = queries;\n    let searchKey;\n\n    if (lock !== undefined) {\n      searchKey = {\n        script: lock,\n        script_type: 'lock'\n      };\n\n      if (type != undefined && type !== 'empty') {\n        searchKey.filter = {\n          script: type\n        };\n      }\n    } else {\n      if (type != undefined && type != 'empty') {\n        searchKey = {\n          script: type,\n          script_type: 'type'\n        };\n      } else {\n        throw new Error(`should specify either type or lock in queries, queries now: ${JSON.stringify(queries)}`);\n      }\n    }\n\n    const queryData = queries.data || '0x';\n    const mercury = this.mercury;\n    return {\n      collect() {\n        return {\n          async *[Symbol.asyncIterator]() {\n            const sizeLimit = 100;\n\n            for (;;) {\n              const res = await mercury.get_cells({\n                search_key: searchKey\n              });\n              const liveCells = res.objects;\n\n              for (const cell of liveCells) {\n                if (queryData === 'any' || queryData === cell.output_data) {\n                  yield {\n                    cell_output: cell.output,\n                    data: cell.output_data,\n                    out_point: cell.out_point,\n                    block_number: cell.block_number\n                  };\n                }\n              }\n\n              if (liveCells.length < sizeLimit) {\n                break;\n              }\n            }\n          }\n\n        };\n      }\n\n    };\n  }\n\n}\n\nexports.MercuryCellProvider = MercuryCellProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CkitProvider = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nclass CkitProvider extends _MercuryProvider.MercuryProvider {\n  get config() {\n    return super.config;\n  }\n\n  init(config) {\n    return super.init(config);\n  }\n\n  getScriptConfig(key) {\n    const scriptConfig = super.getScriptConfig(key);\n    if (!scriptConfig) throw new Error(`cannot find the ${key} script config, maybe init failed`);\n    return scriptConfig;\n  }\n\n  newScript(configKey, args = '0x') {\n    const script = super.newScript(configKey, args);\n    if (!script) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return script;\n  }\n\n  newSudtScript(issuerAddress) {\n    const issuerLockHash = _base.utils.computeScriptHash(this.parseToScript(issuerAddress));\n\n    return this.newScript('SUDT', issuerLockHash);\n  }\n\n  getCellDep(configKey) {\n    const dep = super.getCellDep(configKey);\n    if (!dep) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return dep;\n  }\n\n}\n\nexports.CkitProvider = CkitProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AcpTransferSudtBuilder = require(\"./AcpTransferSudtBuilder\");\n\nObject.keys(_AcpTransferSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _AcpTransferSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _AcpTransferSudtBuilder[key];\n    }\n  });\n});\n\nvar _TransferCkbBuilder = require(\"./TransferCkbBuilder\");\n\nObject.keys(_TransferCkbBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _TransferCkbBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _TransferCkbBuilder[key];\n    }\n  });\n});\n\nvar _MintSudtBuilder = require(\"./MintSudtBuilder\");\n\nObject.keys(_MintSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MintSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintSudtBuilder[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AcpTransferSudtBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _errors = require(\"../errors\");\n\nvar _PwSignerAdapter = require(\"./pw/PwSignerAdapter\");\n\nvar _TransferSudtPwBuilder = require(\"./pw/TransferSudtPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AcpTransferSudtBuilder {\n  constructor(options, provider, signer) {\n    this.options = options;\n    this.provider = provider;\n    this.signer = signer;\n\n    _defineProperty(this, \"builder\", void 0);\n\n    this.builder = new _TransferSudtPwBuilder.TransferSudtPwBuilder(options, provider, signer);\n  }\n\n  async build() {\n    const signerAddress = await this.signer.getAddress();\n    const transferToSelf = this.options.recipient === signerAddress;\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: signerAddress\n    });\n    const tx = await this.builder.build();\n    const signed = await new _PwSignerAdapter.PwAdapterSigner(this.signer, this.provider).sign(tx);\n    return _pwCore.transformers.TransformTransaction(signed);\n  }\n\n}\n\nexports.AcpTransferSudtBuilder = AcpTransferSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferSudtPwBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils = require(\"../../utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferSudtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, signer) {\n    super(provider);\n    this.options = options;\n    this.signer = signer;\n  }\n\n  async build() {\n    const {\n      sudt,\n      recipient,\n      amount\n    } = this.options;\n    const sender = await this.signer.getAddress();\n    const senderSudts = await this.provider.collectUdtCells(sender, sudt, amount);\n    const recipientSudt = (await this.provider.collectUdtCells(recipient, sudt, '0'))[0];\n    const cellDeps = await this.getCellDeps();\n    if (!recipientSudt) (0, _utils.boom)(`recipient ${recipient} has no cell to carry the udt`);\n    const senderInputs = senderSudts.map(point => new _pwCore.Cell(new _pwCore.Amount(point.output.capacity, 0), _pw.Pw.toPwScript(point.output.lock), point.output.type && _pw.Pw.toPwScript(point.output.type), _pw.Pw.toPwOutPoint(point.out_point), point.output_data));\n    const recipientInput = new _pwCore.Cell(new _pwCore.Amount(recipientSudt.output.capacity, 0), _pw.Pw.toPwScript(recipientSudt.output.lock), recipientSudt.output.type && _pw.Pw.toPwScript(recipientSudt.output.type), _pw.Pw.toPwOutPoint(recipientSudt.out_point), recipientSudt.output_data); // increase recipient sudt\n\n    const recipientOutput = recipientInput.clone();\n    recipientOutput.setSUDTAmount(recipientOutput.getSUDTAmount().add(new _pwCore.Amount(this.options.amount, 0)));\n    const senderOutput = senderInputs.reduce((sum, input) => {\n      sum.capacity = sum.capacity.add(input.capacity);\n      sum.setSUDTAmount(sum.getSUDTAmount().add(input.getSUDTAmount()));\n      return sum;\n    }); // decrease sender sudt\n\n    senderOutput.setSUDTAmount(senderOutput.getSUDTAmount().sub(new _pwCore.Amount(this.options.amount, 0)));\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction([...senderInputs, recipientInput], [senderOutput, recipientOutput], cellDeps), senderInputs.map(() => this.getWitnessPlaceholder(sender))); // TODO fix fee\n    // fee from sender sudt capacity\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    senderOutput.capacity = senderOutput.capacity.sub(fee); // TODO collect another cell for fee\n\n    if (senderOutput.availableFee().lte(_pwCore.Amount.ZERO)) {\n      (0, _utils.boom)('only the additional capacity of the sudt cell is supported as a fee');\n    }\n\n    return tx;\n  }\n\n}\n\nexports.TransferSudtPwBuilder = TransferSudtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCellDeps = getCellDeps;\nexports.nets = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\n// TODO\n//  unipass is not open source at this stage,\n//  there is only some sample code, when unipass is open source, you need to replace these codes\nconst nets = [// {\n//   name: '',\n//   url: 'http://localhost:3000/'\n// },\n{\n  name: 'dev',\n  url: 'https://id.unipass.vip',\n  model: 1\n}, {\n  name: 'Aggron-Preview',\n  url: 'https://t.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina-Preview',\n  url: 'https://rc.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina',\n  url: 'https://unipass.xyz'\n}];\nexports.nets = nets;\nconst AggronCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x04a1ac7fe15e454741d3c5c9a409efb9a967714ad2f530870514417978a9f655', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xd346695aa3293a84e9f985448668e9692892c959e7e83d6d8042e59c08b8cf5c', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x194a0f84de41d006a07ece07c96a8130100818599fcf0b2ecf49e512b873ed6e', '0x2'))];\nconst LinaCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x5c98197999d04fbfa5eb579d0f1c85a3edac2b2f72164f2fc618b101adc71729', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xf247a0e9dfe9d559ad8486428987071b65d441568075465c2810409e889f4081', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1196caaf9e45f1959ea3583f92914ee8306d42e27152f7068f9eeb52ac23eeae', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xf5edd047b3dbd676c9aa1e5a77ff32e3661d154c306e23bb0c13f8da9133f145', '0x2'))]; // const testCKB = {\n//   NODE_URL: 'https://testnet.ckb.dev',\n//   INDEXER_URL: 'https://testnet.ckb.dev/indexer',\n//   CHAIN_ID: ChainID.ckb_testnet,\n// };\n// const mainCKB = {\n//   NODE_URL: 'https://lina.ckb.dev',\n//   INDEXER_URL: 'https://mainnet.ckb.dev/indexer',\n//   CHAIN_ID: ChainID.ckb,\n// };\n// const LocalStorage = {\n//   set(key: string, val: unknown): void {\n//     localStorage.set(key, JSON.stringify(val));\n//   },\n//   remove(key: string): void {\n//     localStorage.removeItem(key);\n//   },\n//   getItem(key: string): unknown {\n//     const item = localStorage.getItem(key);\n//     if (!item) return null;\n//     return JSON.parse(item);\n//   },\n// };\n// export function saveEnvData(url: string): void {\n//   if (url == 'https://rc.unipass.xyz' || url == 'https://unipass.xyz') {\n//     LocalStorage.set('lina', true);\n//   } else {\n//     LocalStorage.remove('lina');\n//   }\n// }\n// export function getCkbEnv(): Url {\n//   const isLina = LocalStorage.getItem('lina');\n//   let data = testCKB;\n//   if (isLina) data = mainCKB;\n//   console.log('[cells]:', isLina, data);\n//   return data;\n// }\n\nfunction getCellDeps() {\n  // const isLina = LocalStorage.getItem('lina');\n  // for node test\n  if (typeof window === 'undefined') return [];\n  const isLina = false;\n  let data = AggronCellDeps;\n  if (isLina) data = LinaCellDeps;\n  console.log('[cells]:', isLina, data);\n  return data;\n} // export function getRpc() {\n//   const isLina = LocalStorage.getItem('lina');\n//   let url = testCKB.NODE_URL;\n//   if (isLina) url = mainCKB.NODE_URL;\n//   const rpc = new RPC(url);\n//   return rpc;\n// }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _errors = require(\"../errors\");\n\nvar _PwSignerAdapter = require(\"./pw/PwSignerAdapter\");\n\nvar _TransferCkbPwBuilder = require(\"./pw/TransferCkbPwBuilder\");\n\n// just for testing case, do not use it\nclass TransferCkbBuilder {\n  constructor(options, provider, signer) {\n    this.options = options;\n    this.provider = provider;\n    this.signer = signer;\n  }\n\n  async build() {\n    const signerAddress = await this.signer.getAddress();\n    const transferToSelf = this.options.recipients.some(item => item.recipient === signerAddress && item.capacityPolicy === 'findAcp');\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: signerAddress\n    });\n    const builder = new _TransferCkbPwBuilder.TransferCkbPwBuilder(this.options, this.provider, this.signer);\n    const tx = await builder.build();\n    const signed = await new _PwSignerAdapter.PwAdapterSigner(this.signer, this.provider).sign(tx);\n    return _pwCore.transformers.TransformTransaction(signed);\n  }\n\n}\n\nexports.TransferCkbBuilder = TransferCkbBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbPwBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferCkbPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, signer) {\n    super(provider);\n    this.options = options;\n    this.signer = signer;\n  }\n\n  async build() {\n    const recipientCreatedCells = this.options.recipients.filter(item => item.capacityPolicy === 'createAcp').map(item => new _pwCore.Cell(new _pwCore.Amount(item.amount, 0), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient))));\n    const acpOptions = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const recipientAcpCells$ = (0, _rxjs.from)(acpOptions).pipe((0, _rxjs.mergeMap)(async item => {\n      const resolveds = await this.provider.collectCkbLiveCells(item.recipient, '0');\n      const resolved = resolveds[0];\n      if (!resolved) throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(item.recipient)\n      }); // increase capacity\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.amount, 0));\n      return cell;\n    }), (0, _rxjs.toArray)());\n    const recipientAcpCells = await (0, _rxjs.lastValueFrom)(recipientAcpCells$);\n    const createdCapacity = recipientCreatedCells.reduce((totalCapacity, cell) => totalCapacity.add(cell.capacity), _pwCore.Amount.ZERO);\n    const injectedAcpCapacity = acpOptions.reduce((totalCapacity, item) => totalCapacity.add(new _pwCore.Amount(item.amount, 0)), _pwCore.Amount.ZERO);\n    const senderOutpoints = await this.provider.collectCkbLiveCells(await this.signer.getAddress(), injectedAcpCapacity.add(createdCapacity) // 61 ckb to ensure change cell capacity is enough\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).toHexString());\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n\n    if (!senderCells.length || !senderCells[0]) {\n      throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(await this.signer.getAddress())\n      });\n    }\n\n    const senderOutput = senderCells[0];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction([...senderCells, ...recipientAcpCells], [senderOutput, ...recipientAcpCells, ...recipientCreatedCells], // TODO getDeps by all script\n    this.getCellDeps()), [this.getWitnessPlaceholder(await this.signer.getAddress())]);\n    const fee = TransferCkbPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(createdCapacity).sub(injectedAcpCapacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.TransferCkbPwBuilder = TransferCkbPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintSudtBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _errors = require(\"../errors\");\n\nvar _MintSudtPwBuilder = require(\"./pw/MintSudtPwBuilder\");\n\nvar _PwSignerAdapter = require(\"./pw/PwSignerAdapter\");\n\nclass MintSudtBuilder {\n  constructor(options, provider, signer) {\n    this.options = options;\n    this.provider = provider;\n    this.signer = signer;\n  }\n\n  async build() {\n    const signerAddress = await this.signer.getAddress();\n    const builder = new _MintSudtPwBuilder.NonAcpPwMintBuilder(this.options, this.provider, signerAddress);\n    const mintToSelf = this.options.recipients.some(item => item.recipient === signerAddress && item.capacityPolicy === 'findAcp');\n    if (mintToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: signerAddress\n    });\n    const tx = await builder.build();\n    const signed = await new _PwSignerAdapter.PwAdapterSigner(this.signer, this.provider).sign(tx);\n    return _pwCore.transformers.TransformTransaction(signed);\n  }\n\n}\n\nexports.MintSudtBuilder = MintSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonAcpPwMintBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass NonAcpPwMintBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, issuerAddress) {\n    super(provider);\n    this.options = options;\n    this.issuerAddress = issuerAddress;\n  }\n\n  async build() {\n    const udtType = this.provider.newSudtScript(this.issuerAddress); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createAcp').map(item => new _pwCore.Cell(new _pwCore.Amount(String(BigInt(item.additionalCapacity || 0)), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)()))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n    _pw.Pw.toPwScript(udtType), // issued sudt type\n    undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE())); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      const resolved = (await this.provider.collectUdtCells(item.recipient, udtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: udtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$);\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n    const neededCapacityFromIssuer = createdRecipientCellsCapacity.add(foundRecipientCellsAdditionalCapacity) // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfCkbLiveCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(this.issuerAddress, neededCapacityFromIssuer.toHexString());\n    const issuerCells = issuerOutpoints.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const issuerOutput = issuerCells[0].clone();\n    issuerOutput.capacity = issuerCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO);\n    const rawTx = new _pwCore.RawTransaction([...issuerCells, ...foundRecipientCells], [issuerOutput, ...createdRecipientCells, ...foundRecipientCells], this.getCellDeps());\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(this.issuerAddress)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    issuerOutput.capacity = issuerOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.NonAcpPwMintBuilder = NonAcpPwMintBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.predefined = void 0;\n\nvar Aggron = _interopRequireWildcard(require(\"./aggron\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst AggronCkitConfig = {\n  PREFIX: 'ckt',\n  SCRIPTS: Aggron.SCRIPTS\n};\nconst predefined = {\n  Aggron: AggronCkitConfig\n};\nexports.predefined = predefined;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n// function toScriptConfig(obj: typeof CHAIN_SPECS.Aggron.pwLock): ScriptConfig {\n//   return {\n//     CODE_HASH: obj.script.codeHash,\n//     HASH_TYPE: obj.script.hashType,\n//     DEP_TYPE: obj.cellDep.depType,\n//     TX_HASH: obj.cellDep.outPoint.txHash,\n//     INDEX: obj.cellDep.outPoint.index,\n//   };\n// }\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.AGGRON4.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.AGGRON4.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.AGGRON4.SCRIPTS.SUDT,\n  // TODO replace me when deployed\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x093ba9759e1c4a79dd81b0a50de83ab108ffe4eb983b05637bf1f5c1834f31eb',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x2',\n    DEP_TYPE: 'code'\n  },\n  // TODO replace me when deployed\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x87366c3678f14ccbd6647386a18e05ae27c97978d4a6952fb5820cc698263835',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x3',\n    DEP_TYPE: 'code'\n  },\n  // TODO replace me when deployed\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x124a60cd799e1fbca664196de46b3f7f0ecb7138133dcaea4893c51df5b02be6',\n    HASH_TYPE: 'type'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExtendedDummyWallet = exports.DummyWallet = void 0;\n\nvar _base = require(\"@ckit/base\");\n\nclass DummyWallet extends _base.AbstractWallet {\n  constructor() {\n    super();\n    this.setDescriptor({\n      name: 'DummyWallet'\n    });\n  }\n\n  connect() {\n    if (this.connectStatus !== 'disconnected') return;\n    this.onConnectStatusChanged('connecting');\n    setTimeout(() => {\n      if (this.connectStatus !== 'connecting') return;\n      this.onConnectStatusChanged('connected');\n      this.onSignerChanged(new DummySigner());\n    }, 500);\n  }\n\n}\n\nexports.DummyWallet = DummyWallet;\n\nclass DummySigner {\n  async getAddress() {\n    return 'ckt1qj2fmdr6437352sdjgf5fhzurh00mgussyap3qw4dgy894ucurtzj0zrsk22amhe0evutcsup8ydmshf47t9xhsnl9c';\n  }\n\n  async signMessage() {\n    return '0x';\n  }\n\n}\n\nclass ExtendedDummyWallet extends DummyWallet {\n  constructor() {\n    super();\n    this.setDescriptor({\n      name: 'ExtendedDummyWallet',\n      features: ['unknown-feature']\n    });\n  }\n\n}\n\nexports.ExtendedDummyWallet = ExtendedDummyWallet;"],"sourceRoot":""}